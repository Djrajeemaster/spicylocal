
/* header.css - styles for global header */
.global-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 10px 14px;
  background: var(--sb-primary);
  color: #fff;
  border-radius: 8px;
  margin-bottom: 12px;
}
.global-header .logo { display:flex; align-items:center; gap:8px; color:#fff; text-decoration:none; font-weight:700; }
.global-header .logo-img { width:24px; height:24px; }
.nav-links { display:flex; align-items:center; gap:20px; font-weight:600; }
.nav-links a { color:#fff; text-decoration:none; }
.nav-links a:hover { text-decoration:underline; }

/* Dark theme overrides for header elements */
body.dark .global-header {
  background: #333;
  color: #f0f0f0;
}
body.dark .nav-links a {
  color: #e0e0e0;
}
body.dark .avatar-btn {
  color: #e0e0e0;
}
body.dark .avatar {
  background: #444;
  color: var(--sb-primary);
}
body.dark .user-dropdown {
  background: #2b2b2b;
  color: #e0e0e0;
}
body.dark .user-dropdown a {
  color: #e0e0e0;
}
body.dark .user-dropdown a:hover {
  background: #3b3b3b;
}

/* Controls container for theme toggle and language select */
.header-controls {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: auto;
}

/* Theme toggle button styling */
.theme-toggle {
  background: transparent;
  border: none;
  color: inherit;
  font-size: 1.1rem;
  cursor: pointer;
  padding: 4px;
}

/* Language dropdown styling */
.language-select {
  background: #fff;
  border: none;
  border-radius: 4px;
  padding: 4px 6px;
  font-size: 0.9rem;
  color: #333;
  cursor: pointer;
}

/* Adjust language select in dark mode */
body.dark .language-select {
  background: #333;
  color: #f0f0f0;
  border: 1px solid #555;
}
/* Search bar container: spans full width below the nav links */
.search-container {
  flex-basis: 100%;
  margin-top: 8px;
}

/* Search input styling to align with SpicyBeats theme */
.search-input {
  width: 100%;
  padding: 6px 10px;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  color: #333;
}

/* Ensure search input is visually distinct on the pink header */
.search-input::placeholder {
  color: #888;
}
.user-wrap { display:flex; align-items:center; gap:8px; position:relative; }
.avatar-btn { display:flex; align-items:center; gap:8px; background:transparent; border:none; color:#fff; cursor:pointer; }
.avatar { display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:50%; background:#fff; color:var(--sb-primary); font-weight:700; }
.user-name { color:#fff; }
.user-dropdown { position:absolute; top:100%; right:0; background:#fff; color:#333; border-radius:8px; box-shadow:0 4px 16px rgba(0,0,0,.15); padding:8px; min-width:180px; z-index:1000; }
.user-dropdown a { display:block; padding:8px 10px; color:#333; text-decoration:none; border-radius:6px; }
.user-dropdown a:hover { background:#f3f3f3; }
.hidden { display:none !important; }


/* === Patch: Prevent header from becoming its own scroll area === */
#global-header,
.global-header,
#sb-header,
.header-wrap {
  max-height: none !important;
  overflow: visible !important;
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* Ensure parent wrappers don't trap scroll */
.page, .container, .wrap, .main, .sa-wrap, .content, .header-wrap {
  overflow: visible !important;
}

/* Page scroll sanity */
html, body {
  height: auto !important;
  overflow-y: auto !important;
  overflow-x: hidden;
}

/* A11y: visible focus ring */
:focus-visible { outline: 2px solid #2563eb; outline-offset: 2px; }


/* Image: keep full view, no crop */
.deal-media img{ width:100%; height:auto; max-height:450px; object-fit:contain; }


/* Sticky bar: mobile only */
@media (min-width:901px){ #sticky-bar, .deal-sticky{ display:none !important; } }

/* Location control placed inline in the header nav */
#nav-menu { display: flex; align-items: center; gap: 16px; }
#nav-menu .nav-location-inline{ display:inline-flex; align-items:center; gap:6px; margin-left: 12px; }
#nav-menu .sb-loc-select{ padding:3px 8px; border:1px solid #e5e7eb; border-radius:8px; background:#fff; }


/* User icon avatar (guest & authed) */
.avatar-btn{ display:flex; align-items:center; gap:8px; background:transparent; border:0; cursor:pointer; color:inherit; }
.avatar{ display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:9999px; background:#0b1a4a; color:#fff; font-weight:700; }
.avatar.guest{ background:#e5e7eb; color:#111; }
.user-dropdown{ position:absolute; right:0; top:100%; margin-top:8px; background:#fff; color:#111; border:1px solid #e5e7eb; border-radius:12px; padding:8px; min-width:160px; box-shadow:0 6px 20px rgba(0,0,0,0.08); }
.user-wrap{ position:relative; }
.user-dropdown a{ display:block; padding:8px 10px; border-radius:8px; text-decoration:none; color:inherit; }
.user-dropdown a:hover{ background:#f3f4f6; }



/* Utility */
.hidden{ display:none !important; }
/* Make sure the dropdown overlays other elements */
.user-dropdown{ z-index: 1000; }



/* Ensure header sits above content */
.global-header{ position: relative; z-index: 20; }
.user-wrap{ position: relative; z-index: 30; }
.user-dropdown{ position: absolute; right:0; top:100%; margin-top:8px; }
/* Safety: hidden utility */
.hidden{ display:none !important; }



/* === Mockup alignment patch (non-destructive) ===============================
   Goal: tighten spacing, align controls in one row, improve contrast/size,
         and keep responsive behavior without rewriting markup.
============================================================================= */

/* Header container: tighter, flatter look */
.global-header{
  border-radius: 10px;
  padding: 10px 12px;
  gap: 12px;
}

/* Logo: slightly larger text, better vertical align */
.global-header .logo{
  gap:10px; font-size: 16px; line-height: 1; letter-spacing: .2px;
}
.global-header .logo-img{ width:28px; height:28px;}

/* Nav: turn into a flexible tools row, allow wrapping on small screens */
#nav-menu{
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
}

/* Controls inside header (location, near-me, search, sort) */
#nav-menu select, #nav-menu input[type="search"], #nav-menu input[type="text"]{
  height:34px; padding: 6px 10px; border-radius: 10px; border:1px solid #e5e7eb;
  outline: none; background:#fff; min-width: 140px;
}
#nav-menu .sb-loc-select{ min-width: 160px; }
#nav-menu .near-me-chip{
  display:inline-flex; align-items:center; gap:6px; height:32px; padding:0 10px;
  border-radius: 9999px; border:1px solid #e5e7eb; background:#fff; cursor:pointer;
  user-select:none;
}
#nav-menu .near-me-chip .dot{ width:8px; height:8px; border-radius:9999px; background:#10b981; }

/* Sort: compact look (no separate "Sort" label needed) */
#nav-menu .sort-wrap{ display:inline-flex; align-items:center; gap:6px; }
#nav-menu .sort-wrap select{ min-width: 120px; }

/* User area stays pinned to the right visually */
.user-wrap{ margin-left:auto; }

/* Dropdown polish */
.user-dropdown{ box-shadow: 0 10px 30px rgba(0,0,0,.12); border-radius: 12px; }
.user-dropdown a{ font-size: 14px; }

/* Improve text contrast for secondary bits in header */
#nav-menu .muted{ color:#4b5563; }

/* Responsive: below 768px make controls wrap nicely, search full width */
@media (max-width: 768px){
  .global-header{ padding: 8px; gap:10px; }
  #nav-menu{ gap:8px; }
  #nav-menu input[type="search"], #nav-menu input[type="text"]{ flex:1 1 100%; min-width: 0; }
  .user-wrap{ order: 3; width: 100%; display:flex; justify-content:flex-end; }
  .global-header .logo{ font-size: 15px; }
}

/* Optional sticky header (uncomment if needed) */
/*
.global-header{ position: sticky; top: 0; }
*/


/* === Toolbar â†’ mockup style ================================================ */
.deals-toolbar{ max-width:1100px; margin:10px auto 16px; padding:0 12px; }
.deals-toolbar .toolbar-row{ display:flex; align-items:center; gap:10px; }
.deals-toolbar .search-wrap{
  display:flex; align-items:center; gap:10px;
  background:#fff; border:1px solid #e5e7eb; border-radius:28px;
  padding:10px 14px; flex:1 1 auto;
  box-shadow: 0 6px 20px rgba(0,0,0,.04);
}
.deals-toolbar .search-wrap input[type="search"],
.deals-toolbar .search-wrap input[type="text"]{
  border:0; outline:0; flex:1 1 auto; font-size:16px; background:transparent;
}
.deals-toolbar .search-wrap .loc-suffix{ display:inline-flex; gap:8px; align-items:center; padding-left:12px; margin-left:12px; border-left:1px solid #eee; }
.deals-toolbar .search-wrap .loc-suffix select{ border:0; background:transparent; font-weight:600; }
.deals-toolbar .search-wrap .icon{ width:18px; height:18px; opacity:.55; }

/* Category pill row */
.deals-toolbar .cats{ display:flex; gap:14px; align-items:center; margin-top:14px; flex-wrap:wrap; }
.deals-toolbar .cats .chip{
  padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; cursor:pointer;
}
.deals-toolbar .cats .chip.active{ background:#0b1a4a; color:#fff; border-color:#0b1a4a; }

/* Mobile */
@media (max-width: 768px){
  .deals-toolbar{ padding:0 10px; }
  .deals-toolbar .toolbar-row{ gap:8px; }
  .deals-toolbar .search-wrap{ padding:8px 12px; }
}
/* SB mockup start */
:root{--ink:#0b1a3a;--line:#e6eaf1;--bg:#fff;}
.sb-header{display:flex;align-items:center;justify-content:space-between;gap:16px;background:var(--bg);color:var(--ink);padding:12px 16px;border-bottom:1px solid rgba(15,23,42,.06);position:sticky;top:0;z-index:1000}
.sb-brand{display:flex;align-items:center;gap:12px;text-decoration:none}
.sb-logo{display:inline-grid;place-items:center;background:#0b1a3a;color:#fff;width:36px;height:36px;border-radius:50%;font-weight:800}
.sb-name{font-weight:800;font-size:28px;color:var(--ink)}
.sb-searchwrap{flex:1;display:flex;align-items:center;gap:8px;max-width:980px;background:#fff;border:1px solid var(--line);border-radius:999px;padding:12px 12px 12px 44px;box-shadow:0 10px 30px rgba(13,30,80,.06);position:relative}
.sb-searchwrap::before{content:"";position:absolute;left:16px;top:50%;transform:translateY(-50%);width:18px;height:18px;background:radial-gradient(circle at 30% 30%, #9aa7bd 35%, transparent 36%) no-repeat;box-shadow:12px 12px 0 4px #9aa7bd;border-radius:50%}
.sb-searchinput{flex:1;border:0;outline:0;font-size:16px;color:var(--ink)}
.sb-locpill{margin-left:auto;border:0;background:#f5f7fb;color:var(--ink);border-radius:999px;padding:8px 12px;font-weight:700;cursor:pointer;display:flex;gap:6px;align-items:center}
.sb-right .sb-link{color:var(--ink);font-weight:700;margin-left:18px;text-decoration:none}
.sb-right .sb-link:hover{text-decoration:underline}
.sb-cats{display:flex;gap:12px;align-items:center;padding:12px 16px;background:#fff;border-bottom:1px solid var(--line)}
.chip{border-radius:999px;padding:10px 16px;border:1px solid var(--line);background:#fff;color:var(--ink);font-weight:700;cursor:pointer}
.chip.active{background:var(--ink);color:#fff;border-color:var(--ink)}
/* SB mockup end */
